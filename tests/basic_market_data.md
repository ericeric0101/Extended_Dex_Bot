**from testnet**

## (.venv) (base) cheng-kaihuang@cheng-kais-MacBook-Air Extended_Dex_Bot % python -m src.bot  
      
[16:25:06] {'market_rules': {'market': 'BTC-USD', 'min_order_size': 0.0001, 'price_tick': 0.1}}            bot.py:166
           {'market_rules': {'market': 'ETH-USD', 'min_order_size': 0.001, 'price_tick': 0.01}}            bot.py:166
[16:25:07] {                                                                                               bot.py:136
               'dead_mans_switch': {                                                                                 
                   'status': 'failed',                                                                               
                   'error': "Client error '404 Not Found' for url                                                    
           'https://api.starknet.sepolia.extended.exchange/api/v1/user/deadmansswitch?countdownTime=120'\n           
           For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"                 
               }                                                                                                     
           }                                                                                                         
┏━━━━━━━━━━━━━━━┳━━━━━━━━━━┓
┃ Component     ┃ Value    ┃
┡━━━━━━━━━━━━━━━╇━━━━━━━━━━┩
│ spread_pnl    │ 0.000000 │
│ inventory_pnl │ 0.000000 │
│ fees          │ 0.000000 │
│ funding       │ 0.000000 │
│ net_pnl       │ 0.000000 │
└───────────────┴──────────┘
[16:25:10] {                                                                                                bot.py:80
               'account_event': {                                                                                    
                   'type': 'CONFIG',                                                                                 
                   'data': {                                                                                         
                       'fees': {                                                                                     
                           'BTC-USD': {                                                                              
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'ETH-USD': {                                                                              
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'STRK-USD': {                                                                             
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'SOL-USD': {                                                                              
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'DOGE-USD': {                                                                             
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'AVAX-USD': {                                                                             
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'SEI-USD': {                                                                              
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'MOODENG-USD': {                                                                          
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'HYPE-USD': {                                                                             
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'PENGU-USD': {                                                                            
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'ENA-USD': {                                                                              
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'FARTCOIN-USD': {                                                                         
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'VIRTUAL-USD': {                                                                          
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'AAVE-USD': {                                                                             
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'TRUMP-USD': {                                                                            
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'MELANIA-USD': {                                                                          
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'GOAT-USD': {                                                                             
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'KAITO-USD': {                                                                            
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'SPX-USD': {                                                                              
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'CRV-USD': {                                                                              
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'ZORA-USD': {                                                                             
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'XPL-USD': {                                                                              
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'WLFI-USD': {                                                                             
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'POPCAT-USD': {                                                                           
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           '1000BONK-USD': {                                                                         
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           '1000SHIB-USD': {                                                                         
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'LDO-USD': {                                                                              
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'GRASS-USD': {                                                                            
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'TON-USD': {                                                                              
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'RESOLV-USD': {                                                                           
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           }                                                                                         
                       },                                                                                            
                       'stp': 'ACCOUNT'                                                                              
                   }                                                                                                 
               }                                                                                                     
           }                                                                                                         
[account_ws] connecting to wss://starknet.sepolia.extended.exchange/stream.extended.exchange/v1/account headers={'User-Agent': 'extended-mm-bot/0.1', 'X-Api-Key': '7e46bb...', 'X-Subaccount-Id': None, 'Origin': 'https://app.extended.exchange', 'WS_AUTH_MODE': 'query', 'WS_AUTH_TOKEN?': False} subprotocols=[]
[account_ws] WS handshake failed: HTTP 401
[account_ws] response headers: Content-Length: 0
Connection: close
Date: Wed, 01 Oct 2025 14:25:11 GMT
X-Cache: Error from cloudfront
Via: 1.1 0868858143e380e74cee1003289bf1c0.cloudfront.net (CloudFront)
X-Amz-Cf-Pop: HAM50-P4
X-Amz-Cf-Id: aXm9I2coMDIVLBXEerlh9Dkk8trhofgVRCTmUXnIHpDlCjBd04pokQ==


[account_ws] 401 tips: 1) 檢查 API Key 是否為該環境(Testnet/Mainnet)與子帳號；2) 嘗試設置 SUBACCOUNT_ID；3) 若文件要求 WS token，請在 .env 設定 WS_AUTH_TOKEN 與 WS_AUTH_MODE=query|subprotocol；4) 若此 host 不通會自動嘗試下一個候選 host。
[account_ws] connecting to wss://api.starknet.sepolia.extended.exchange/stream.extended.exchange/v1/account headers={'User-Agent': 'extended-mm-bot/0.1', 'X-Api-Key': '7e46bb...', 'X-Subaccount-Id': None, 'Origin': 'https://app.extended.exchange', 'WS_AUTH_MODE': 'query', 'WS_AUTH_TOKEN?': False} subprotocols=[]
[16:25:12] {                                                                                                bot.py:80
               'account_event': {                                                                                    
                   'type': 'CONFIG',                                                                                 
                   'data': {                                                                                         
                       'fees': {                                                                                     
                           'BTC-USD': {                                                                              
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'ETH-USD': {                                                                              
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'STRK-USD': {                                                                             
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'SOL-USD': {                                                                              
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'DOGE-USD': {                                                                             
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'AVAX-USD': {                                                                             
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'SEI-USD': {                                                                              
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'MOODENG-USD': {                                                                          
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'HYPE-USD': {                                                                             
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'PENGU-USD': {                                                                            
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'ENA-USD': {                                                                              
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'FARTCOIN-USD': {                                                                         
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'VIRTUAL-USD': {                                                                          
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'AAVE-USD': {                                                                             
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'TRUMP-USD': {                                                                            
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'MELANIA-USD': {                                                                          
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'GOAT-USD': {                                                                             
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'KAITO-USD': {                                                                            
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'SPX-USD': {                                                                              
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'CRV-USD': {                                                                              
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'ZORA-USD': {                                                                             
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'XPL-USD': {                                                                              
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'WLFI-USD': {                                                                             
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'POPCAT-USD': {                                                                           
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           '1000BONK-USD': {                                                                         
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           '1000SHIB-USD': {                                                                         
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'LDO-USD': {                                                                              
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'GRASS-USD': {                                                                            
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'TON-USD': {                                                                              
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           },                                                                                        
                           'RESOLV-USD': {                                                                           
                               'makerFeeRate': '0',                                                                  
                               'takerFeeRate': '0.0003',                                                             
                               'builderFeeRate': '0'                                                                 
                           }                                                                                         
                       },                                                                                            
                       'stp': 'ACCOUNT'                                                                              
                   }                                                                                                 
               }                                                                                                     
           }                                                                                                         
           {                                                                                                bot.py:80
               'account_event': {                                                                                    
                   'type': 'ORDER',                                                                                  
                   'data': {'isSnapshot': True, 'orders': []},                                                       
                   'ts': 1759328712431,                                                                              
                   'seq': 1                                                                                          
               }                                                                                                     
           }                                                                                                         
           {                                                                                                bot.py:80
               'account_event': {                                                                                    
                   'type': 'BALANCE',                                                                                
                   'data': {                                                                                         
                       'isSnapshot': True,                                                                           
                       'balance': {                                                                                  
                           'collateralName': 'USD',                                                                  
                           'balance': '1000',                                                                        
                           'status': 'ACTIVE',                                                                       
                           'equity': '1000',                                                                         
                           'availableForTrade': '1000',                                                              
                           'availableForWithdrawal': '1000',                                                         
                           'unrealisedPnl': '0',                                                                     
                           'initialMargin': '0',                                                                     
                           'marginRatio': '0',                                                                       
                           'updatedTime': 1759321515016,                                                             
                           'exposure': '0',                                                                          
                           'leverage': '0.0000'                                                                      
                       }                                                                                             
                   },                                                                                                
                   'ts': 1759328712431,                                                                              
                   'seq': 2                                                                                          
               }                                                                                                     
           }                                                                                                         
           {                                                                                                bot.py:80
               'account_event': {                                                                                    
                   'type': 'POSITION',                                                                               
                   'data': {'isSnapshot': True, 'positions': []},                                                    
                   'ts': 1759328712431,                                                                              
                   'seq': 3                                                                                          
               }                                                                                                     
           }                                                                                                         
┏━━━━━━━━━━━━━━━┳━━━━━━━━━━┓
┃ Component     ┃ Value    ┃
┡━━━━━━━━━━━━━━━╇━━━━━━━━━━┩
│ spread_pnl    │ 0.000000 │
│ inventory_pnl │ 0.000000 │
│ fees          │ 0.000000 │
│ funding       │ 0.000000 │
│ net_pnl       │ 0.000000 │
└───────────────┴──────────┘
┏━━━━━━━━━━━━━━━┳━━━━━━━━━━┓
┃ Component     ┃ Value    ┃
┡━━━━━━━━━━━━━━━╇━━━━━━━━━━┩
│ spread_pnl    │ 0.000000 │
│ inventory_pnl │ 0.000000 │
│ fees          │ 0.000000 │
│ funding       │ 0.000000 │
│ net_pnl       │ 0.000000 │
└───────────────┴──────────┘